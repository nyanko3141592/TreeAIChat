# AIチャットアプリ開発タスク

## MVP (Minimum Viable Product) - 基本機能

### UI基本構造
- [x] 基本的なHTMLレイアウト作成 (ヘッダー、メインエリア、フッター/入力エリア)
- [ ] CSSフレームワークの導入検討（例: Tailwind CSS, Bootstrapなど）または基本的なスタイリング

### APIキー管理
- [x] APIキー入力フォームの実装
- [x] APIキーをローカルストレージに保存する機能
- [x] APIキーをローカルストレージから読み込む機能
- [x] APIキー設定済みの場合の表示切り替え（設定ボタンなど）
- [ ] APIキーの削除機能 (実装済みだが、明示的な削除ボタンはresetApiKeyButtonが兼ねているため、タスクとしては完了として良いか検討)

### チャット機能コア
- [x] 会話ツリーのデータ構造定義 (JSON形式、`project.md`参照)
- [x] ルートノード（AIからの最初のメッセージ）の表示
- [x] ユーザーが質問を入力できるテキストエリアと送信ボタンの実装
- [x] ユーザーの質問を会話ツリーに追加する機能
- [x] Gemini API連携：入力された質問をAPIに送信する機能
- [x] Gemini APIからの応答を会話ツリーに追加し表示する機能
- [x] 会話ツリーの基本的な視覚的表示（テキストベースでも可、インデントで階層を示す）

### 会話ツリー操作（基本）
- [x] ノードID生成ロジックの実装
- [x] 各会話ノード（ユーザーの質問、AIの応答）をクリックで選択する機能
- [x] 選択したノードをハイライトするなどの視覚的フィードバック
- [x] 選択したユーザーノードを親として、AIに応答を生成させる機能
- [x] 選択したAIノードを親として、ユーザーが新たな質問を追加できる機能

## UI/UX改善

### 会話ツリー表示の高度化
- [ ] 会話ツリーをインタラクティブな木構造（ツリービュー）で表示するライブラリの選定・導入 (例: D3.js, GoJS, Cytoscape.js など、あるいは自前実装)
- [ ] ノード間の接続線を明確に表示
- [ ] ノードの展開・折りたたみ機能（多数ノードの場合の可読性向上のため）
- [ ] ノードの追加、削除、編集を容易にするUIの検討

### レスポンシブデザイン
- [ ] モバイル端末での表示最適化
- [ ] PCでの表示最適化

## データ永続化と共有

### ローカルストレージ保存
- [ ] 会話ツリーの状態をローカルストレージに自動保存する機能 (変更があるたび)
- [ ] アプリケーション起動時にローカルストレージから会話ツリーを復元する機能

### エクスポート/インポート
- [ ] 会話ツリーをJSON形式でエクスポートする機能
- [ ] JSON形式の会話ツリーをインポートする機能

## 非機能要件対応と仕上げ

### エラーハンドリング
- [ ] Gemini APIの利用制限やエラー発生時のユーザーへの通知
- [ ] その他の予期せぬエラーに対するハンドリング

### パフォーマンス
- [ ] 多数ノード（例: 1000ノード）でも快適に操作できるかの検証と最適化

### 多言語対応準備
- [ ] UIテキストの多言語化準備（文字列リソースの分離など）
- [ ] まずは日本語UIを完成させる

### その他
- [ ] 会話履歴一覧の表示検討（サイドバーなど）
- [ ] readme.md の作成 (ビルド方法、実行方法など) 